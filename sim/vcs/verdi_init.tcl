# ═══════════════════════════════════════════════════════════════════
# Verdi T-2022.06 启动初始化脚本
# 作者: Chen Weidong
# 日期: 2026-01-22
# 说明: 自动设置字体大小，解决字体太小问题
# ═══════════════════════════════════════════════════════════════════

puts "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
puts "🎨 正在应用自定义字体配置..."
puts "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"

# ───────────────────────────────────────────────────────────────────
# 1. 波形窗口字体设置
# ───────────────────────────────────────────────────────────────────
puts "📊 设置波形窗口字体..."

# 通用波形字体
catch {waveSetOption -font {Monospace 24}}

# 信号名字体（左侧列表）
catch {waveSetOption -signal_font {Monospace 24}}

# 时间轴字体（顶部时间刻度）
catch {waveSetOption -time_font {Monospace 24}}

# 数值字体（波形上的数值）
catch {waveSetOption -value_font {Monospace 24}}

# 标尺字体
catch {waveSetOption -ruler_font {Monospace 24}}

# ───────────────────────────────────────────────────────────────────
# 2. 源码窗口字体设置
# ───────────────────────────────────────────────────────────────────
puts "📝 设置源码窗口字体..."

# 源码编辑器字体
catch {srcSetOption -font {Monospace 24}}

# ───────────────────────────────────────────────────────────────────
# 3. 层次结构窗口字体设置
# ───────────────────────────────────────────────────────────────────
puts "🌲 设置层次结构窗口字体..."

# 层次树字体
catch {nschSetOption -font {Monospace 24}}

# ───────────────────────────────────────────────────────────────────
# 4. 刷新显示
# ───────────────────────────────────────────────────────────────────
puts "🔄 刷新显示..."

# 刷新波形窗口
catch {waveRedraw}

puts "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
puts "✅ 字体配置完成！所有窗口字体已设置为 Monospace 24"
puts "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
puts ""
puts "💡 提示："
puts "  - 如果字体还是小，可以手动执行："
puts "    waveSetOption -font {Monospace 28}"
puts "  - 查看当前字体设置："
puts "    waveGetOption -font"
puts ""
